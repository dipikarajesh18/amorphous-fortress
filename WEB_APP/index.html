<html>
    <head>
        <title>Amorphous Fortress - Entity Editor</title> 
        <link rel="stylesheet" href="app_style.css">
        <!-- ADD STYLES TO SHEET WHEN FINISHED -->
        <style>
            #menu{
                height: 30px;
                background-color: #d1d1d1;
                border-bottom:#ababab 2px solid;
                display:block;
            }

            .menu-item{
                float:left;
                height: 100%;
                width: 80px;
                text-align: center;
                line-height: 30px;
                font-size: 18px;
                font-family: monospace;
                color: #171717;
                cursor: pointer;
                border-right: #ababab 2px solid;
            }
            .menu-item:hover{
                background-color: #bcbcbc;
            }
            .menu-dropdown{
                z-index: 10;
                position:absolute;
                border:2px solid #bcbcbc;
                background-color: #dddddd
                /* display: none; */
            }
            .menudrop-item{
                height: 24px;
                min-width: 100px;
                text-align: left;
                line-height: 24px;
                font-size: 14px;
                font-family: monospace;
                color: #171717;
                cursor: pointer;
                padding-left:5px;
                padding-right:5px;
                /* display:none; */
            }
            .menudrop-item:hover{
                background-color: #bcbcbc;
            }

            #file_menu{
                display:none;
            }
            #edit_menu{
                display:none;
            }
            #view_menu{
                display:none;
            }
            #help_menu{
                display:none;
            }
            

            #debug{
                color:red;
                font-size: 12px;
                font-family: monospace;
                width:400px;
                text-align: center;
                margin:auto;
            }

        </style>
    </head>
    <body>
        <div id="title">
            Amorphous Fortress - Entity Editor
        </div>
        <div id="container">
            <!-- TOP BAR MENU w/ DROPDOWN -->
            <div id="menu">
                <div class="menu-item">File
                    <div id='file_menu' class="menu-dropdown">
                        <div class="menudrop-item">New</div>
                        <div class="menudrop-item">Open</div>
                        <div class="menudrop-item">Save</div>
                        <div class="menudrop-item">Save As</div>
                    </div>
                </div>
                


                <div class="menu-item">Edit
                    <div id='edit_menu' class="menu-dropdown">
                        <div class="menudrop-item">New Node</div>
                        <div class="menudrop-item">New Edge</div>
                        <div class="menudrop-item">Delete Node</div>
                        <div class="menudrop-item">Delete Edge</div>
                    </div>
                </div>


                <div class="menu-item">View
                    <div id='view_menu' class="menu-dropdown">
                        <div class="menudrop-item">Zoom In</div>
                        <div class="menudrop-item">Zoom Out</div>
                        <div class="menudrop-item">Zoom Reset</div>
                        <div class="menudrop-item">Toggle Grid Snap</div>
                        <div class="menudrop-item">Clean Up Graph</div>
                    </div>
                </div>


                <div class="menu-item">Help
                    <div id='help_menu' class="menu-dropdown">
                        <div class="menudrop-item">About</div>
                        <div class="menudrop-item">Quick Start</div>
                        <div class="menudrop-item">Documentation</div>
                        <div class="menudrop-item">Report Bug</div>
                    </div>
                </div>
            </div>
            <!-- GRAPH NODE EDITOR CANVAS -->
            <div id="gfx-editor">
                
            </div>
            <!-- SIDE BAR TEXT EDITOR -->
            <div id="txt-editor">
                <!-- name -->
                <div id="entity-name">
                    <div id="char_div">
                        <input type="text" id="char_in" maxlength="1" placeholder="?" value="@"/>
                        <div id="char_txt">@</div>
                    </div>
                    <div id="name_div">
                        <input type="text" id="name_in" placeholder="entity_name" value="entity"/>
                        <div id="name_txt">entity</div>
                    </div>
                </div>

                <!-- nodes -->
                <div id="entity-nodes">
                    <div class="txt-title">NODES</div>
                    <div id="node-list">

                    </div>
                </div>

                <!-- edges -->
                <div id="entity-edges">
                    <div class="txt-title">EDGES</div>
                    <div id="edge-list">
                        
                    </div>
                </div>
            </div>
        </div>

        <div id="debug"><< DEBUG HERE >></div>

        <!-- MOVE THIS TO CODE.JS LATER WHEN IT'S FUNCTIONAL -->
        <script>
            let debug = document.getElementById("debug");


            // MENU DROPDOWN
            let all_menus = document.getElementsByClassName("menu-item");
            
            for(let i = 0; i < all_menus.length; i++){
                let menu = all_menus[i];
                let submenus = menu.children;   //assume only submenus are the only children of the menu items
                if(submenus.length == 0)
                    continue;

                menu.addEventListener("click", function(){showMenu(submenus[0])});
                menu.addEventListener("mouseleave", function(){hideMenu(submenus[0])});
                menu.addEventListener("mouseleave", function(){debug.innerHTML = `mouseout (${submenus[0].id})`;});
            }

            function showMenu(submenu){
                submenu.style.display = "block";
            }
            function hideMenu(submenu){
                submenu.style.display = "none";
            }

        </script>
        <script src="code.js"></script>
    </body>
</html>